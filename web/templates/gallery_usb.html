{% extends "base.html" %}

{% block content %}
<style>
    .live-view-container {
        position: relative;
        width: 100%;
        max-width: 1280px;
        margin: auto;
        background-color: #000;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        border-radius: 8px;
        overflow: hidden;
    }
    .live-view-container img {
        display: block;
        width: 100%;
        height: auto;
        aspect-ratio: 16 / 9;
    }
    .status-overlay {
        position: absolute;
        top: 10px;
        left: 10px;
        padding: 5px 10px;
        background-color: rgba(0,0,0,0.6);
        color: white;
        border-radius: 5px;
        font-family: monospace;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .status-overlay .live-dot {
        width: 10px;
        height: 10px;
        background-color: #dc3545;
        border-radius: 50%;
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
        100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
    }
</style>

<div class="container">
    <!-- DEFINITIVE FIX: The title is now correct -->
    <h1 class="mb-4">Live View (USB Camera)</h1>
    <p class="text-muted">This is a real-time MJPEG stream directly from the USB camera service.</p>
    
    <div class="live-view-container">
        <!-- This now points to the correct stream for the USB camera -->
        <img src="/api/v1/camera/stream/usb" alt="Live USB Camera Feed">
        <div class="status-overlay">
            <div class="live-dot"></div>
            LIVE
        </div>
    </div>
</div>
{% endblock %}